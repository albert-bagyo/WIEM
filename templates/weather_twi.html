<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css')}}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WIEM</title>
    <script>
        function handleSearch(event) {
            // Check if Enter key is pressed
            if (event.key === 'Enter') {
                // Prevent default form submission behavior
                event.preventDefault();

                // Get the input value
                const query = event.target.value;

                // Define the base URL for search
                const baseUrl = `${window.location.origin}`;

                // Redirect to the URL with the search query as a parameter
                window.location.href = `${baseUrl}/weather/${encodeURIComponent(query)}/tw`;
            }
        }
    </script>
</head>
<body>
    <img src="{{ url_for('static', filename='images/weather-icons/Day-Clear.png')}}" alt="clear day" class="weather--image"/>
    <nav class="nav--bar">
        <div class="logo">
            <img src="{{ url_for('static', filename='images/weather.png')}}" alt="logo" id="logo"/>
            <p>Weather Station</p>
        </div>
        <section class="time--date">
            <div class="time">
                <p>{{time}}</p>
            </div>
            <div class="date">
                <p>{{date}}</p>
            </div>
        </section>
        <section class="aside">
            <div class="greetings">
                <p>Akwaaba! {{location}}</p>
            </div>
            <div class="search">
                <details>
                    <summary>
                        Countries
                    </summary>
                    <p><a href="/weather/Ghana/tw">Ghana</a></p>
                    <p><a href="/weather/Nigeria/tw">Nigeria</a></p>
                    <p><a href="/weather/Namibia/tw">Namibia</a></p>
                    <p><a href="/weather/Togo/tw">Togo</a></p>
                </details>
                <!--<input type="search" placeholder="Search..." onkeypress="handleSearch(event)"--> 
            </div>
        </section>
    </nav>
    <section class="content">
        <section class="content-left">
            <header>
                <h2>{{weather_main}}</h2>
                <h4>{{weather_desc}}</h4>
            </header>
            <main class="info">
                {{description}}
            </main>
            <section class="cities">
                <div class="city city--one">
                    <p class="temp">12<sup>o</sup></p>
                    <p class="wind">40.0NW</p>
                    <p>Kumasi</p>
                </div>
                <div class="city city--two">
                    <p class="temp">17<sup>o</sup></p>
                    <p class="wind">40.0NW</p>
                    <p>Sunyani</p>
                </div>
                <div class="city city--three">
                    <p class="temp">22<sup>o</sup></p>
                    <p class="wind">40.0NW</p>
                    <p>Tamale</p>
                </div>
            </section>
        </section>
        <section class="content-right">
            <div class="weather--data">
                <div class="temp--condition">
                    <div class="condition">
                        <p>31.99N</p>
                        <p>Excellent</p>
                    </div>
                    <div class="temperature">
                        <h1>{{"{:.1f}".format(weather['main']['temp'] - 273.15)}}°</h1>
                        <span>+/-</span>
                    </div>
                </div>
                <div class="weather--details">
                    <div class="intensity">
                        <p><em>ahoɔden</em></p>
                        <p><em>zones</em></p>
                    </div>
                    <div class="description">
                        <p>WIND: WSW 6 MPH</p>
                        <p>UV INDEX: 0 FIRI 10</p>
                        <p>-{{location}}</p>
                    </div>
                </div>
            </div>
            <div class="other-weather-info">
                <div class="weather-type">
                    <div class="weather-info">
                        <div class=" card humidity">
                            <div class="card--flex">
                                <img src="{{ url_for('static', filename='images/humidity.png') }}" alt="humidity" class="weather--icons"/>
                                <p>{{weather['main']['humidity'] }}%</p>
                            </div>
                            <div class="card--info">
                                <p class="card--text">Nsuframa</p>
                                <p>bɛyɛ {{weather['main']['humidity'] }}%</p>
                            </div>
                        </div>
                        <div class="card wind-speed">
                            <div class="card--flex">
                                <img src="{{ url_for('static', filename='images/wind.png') }}" alt="wind speed" class="weather--icons"/>
                                <p>{{weather['wind']['speed'] }}MPH</p>
                            </div>
                            <div class="card--info">
                                <p class="card--text">mframa ɔhare</p>
                                <p>bɛyɛ {{weather['wind']['speed'] }}MPH</p>
                            </div>
                        </div>
                        <div class="card sunrise-sunset">
                            <div class="card--flex">
                                <img src="{{ url_for('static', filename='images/sun.png') }}" alt="sun image" class="weather--icons"/>
                                <p>06:30AM</p>
                            </div>
                            <div class="card--info">
                                <p class="card--text">Owia apuei</p>
                                <p>wɔ 6:30AM</p>
                            </div>
                        </div>
                        <div class="card precipitation">
                            <div class="card--flex">
                                <img src="{{ url_for('static', filename='images/weather.png') }}" alt="wind speed" class="weather--icons"/>
                                <p>{{weather['main']['pressure']}}Pa</p>
                            </div>
                            <div class="card--info">
                                <p class="card--text">Nhyɛsoɔ</p>
                                <p>bɛyɛ {{weather['main']['pressure'] + 0.2}}Pa</p>
                            </div>
                        </div>
                        <div class="card air-quality">
                            <div class="card--flex">
                                <img src="{{ url_for('static', filename='images/air-flow.png') }}" alt="wind speed" class="weather--icons"/>
                                <p>{{weather['visibility']/100}}</p>
                            </div>
                            <div class="card--info">
                                <p class="card--text">Aniso dahɔ</p>
                                <p>ɛyɛ</p>
                            </div>
                        </div>
                        <div class="card uv-index">
                            <div class="card--flex">
                                <img src="{{ url_for('static', filename='images/sunburn.png') }}" alt="wind speed" class="weather--icons"/>
                                <p>{{"{:.1f}".format(weather['main']['feels_like'] - 273)}}</p>
                            </div>
                            <div class="card--info">
                                <p class="card--text">Te nka sɛ</p>
                                <p>ɛyɛ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </section>
</body>
</html>
